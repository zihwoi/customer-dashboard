<div ng-controller="MainController">
    <h1>Customer Dashboard</h1>
    <p>{{ message }}</p>
    <div class="mb-3">
        <strong>Total Customers: {{ dashboardStats.totalCustomers }}</strong><br>
        <strong>New Customers Today: {{ dashboardStats.newCustomersToday }}</strong><br>
        <strong>Active Subscriptions: {{ dashboardStats.activeSubscriptions }}</strong>
    </div>
</div>

<div ng-controller="CustomerController">

    <!-- Search Bar -->
    <div class="mb-3">
        <input type="text" class="form-control" ng-model="searchQuery" placeholder="Search by name, email, or city">
    </div>

    <!-- Filter by City -->
    <div class="mb-3">
        <select ng-model="selectedCity" class="form-control">
            <option value="">Select City</option>
            <option ng-repeat="city in ['New York', 'Los Angeles', 'Chicago']" value="{{city}}">{{city}}</option>
        </select>
    </div>

    <!-- Reset Filters Button -->
    <div class="mb-3">
        <button class="btn btn-secondary" ng-click="resetFilters()">Reset Filters</button>
    </div>


    <table class="table table-bordered">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>City</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="customer in customers | filter: searchQuery | filter: {city: selectedCity}">
                <td>{{ customer.id }}</td>
                <td>{{ customer.name }}</td>
                <td>{{ customer.email }}</td>
                <td>{{ customer.city }}</td>
            </tr>
        </tbody>
    </table>
</div>